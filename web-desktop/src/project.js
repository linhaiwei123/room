require=function e(t,n,o){function i(s,a){if(!n[s]){if(!t[s]){var r="function"==typeof require&&require;if(!a&&r)return r(s,!0);if(c)return c(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var h=n[s]={exports:{}};t[s][0].call(h.exports,function(e){var n=t[s][1][e];return i(n?n:e)},h,h.exports,e,t,n,o)}return n[s].exports}for(var c="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({angelFramesLoop:[function(e,t,n){"use strict";cc._RFpush(t,"8cb7aegfW5IXb0EUSkU7kot","angelFramesLoop"),cc.Class({"extends":cc.Component,properties:{animName:""},onLoad:function(){this.getComponent(cc.Animation).playAdditive(this.animName)}}),cc._RFpop()},{}],angelonLoadMessage:[function(e,t,n){"use strict";cc._RFpush(t,"43f5eTT6+VIR5sNKyp2LZno","angelonLoadMessage"),cc.Class({"extends":cc.Component,properties:{onLoadMessage:""},onLoad:function(){this.node.getChildByName("message").getComponent("showMessage").enabled=!1,this.node.getChildByName("message").getComponent(cc.Label).string=this.onLoadMessage},onMoveFinish:function(){this.node.getChildByName("message").getComponent(cc.Label).string="",this.node.getChildByName("message").getComponent("showMessage").enabled=!0}}),cc._RFpop()},{}],dragItem:[function(e,t,n){"use strict";cc._RFpush(t,"a2aa45oUnpCIL5uUZXFSew1","dragItem"),cc.Class({"extends":cc.Component,properties:{targetItem:cc.Node,_originPosition:null,_originParent:null},onLoad:function(){this.node.on("touchstart",this.convertToWorldCoordinate,this),this.node.on("touchmove",this.drag,this),this.node.on("touchend",this.drop,this)},init:function(){this._originPosition=this.node.position,cc.log(this._originPosition),this._originParent=this.node.parent,cc.log(this._originParent)},convertToWorldCoordinate:function(e){var t=this.node.parent.convertToWorldSpaceAR(this.node.position),n=cc.find("Canvas").convertToNodeSpaceAR(t);this.node.parent=cc.find("Canvas"),this.node.position=n,cc.log(this.node.position)},drag:function(e){this.node.position=this.node.position.add(e.touch.getDelta())},drop:function(e){var t=this.node.parent.convertToWorldSpaceAR(this.node.position),n=this.targetItem.parent.convertToNodeSpaceAR(t),o=cc.pDistance(n,this.targetItem.position),i=cc.pDistance(this.targetItem.position,cc.v2(0,0));cc.log(o),cc.log(i),50>o&&i>5?(this.targetItem.emit("collision"),cc.log("collision"),this.node.removeFromParent()):(this.node.position=this._originPosition,this.node.parent=this._originParent)}}),cc._RFpop()},{}],fireGenerator:[function(e,t,n){"use strict";cc._RFpush(t,"3c7c8FMrA9BYr8YUMdA4Wki","fireGenerator"),cc.Class({"extends":cc.Component,properties:{canvas:cc.Node,fireAngel:cc.Prefab},onLoad:function(){this.node.on("collision",this.generateAngel,this)},generateAngel:function(){var e=cc.instantiate(this.fireAngel);this.canvas.addChild(e)}}),cc._RFpop()},{}],goldGenerator:[function(e,t,n){"use strict";cc._RFpush(t,"1c5f4v/XXVGaqg2FJFdhmbk","goldGenerator"),cc.Class({"extends":cc.Component,properties:{canvas:cc.Node,goldAngel:cc.Prefab},onLoad:function(){this.node.on("collision",this.generateAngel,this)},generateAngel:function(){var e=cc.instantiate(this.goldAngel);this.canvas.addChild(e),this.node.removeFromParent()}}),cc._RFpop()},{}],increment:[function(e,t,n){"use strict";cc._RFpush(t,"289f5HFvg5O2qgq+ZA2Q6mt","increment"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){cc.find("Canvas/wall_a/taiji").getComponent("taiji").index++}}),cc._RFpop()},{}],initScale:[function(e,t,n){"use strict";cc._RFpush(t,"abd1e65B4BCcI5exGOGNfXB","initScale"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){this.node.setScale(cc.v2(0,0))}}),cc._RFpop()},{}],pick:[function(e,t,n){"use strict";cc._RFpush(t,"33f22PVlJxDZ5xW9vjUK92Q","pick"),cc.Class({"extends":cc.Component,properties:{itemPrefab:cc.Prefab,content:cc.Node,canvas:cc.Node,targetItem:cc.Node},onLoad:function(){this.node.on("touchend",this.pick,this)},pick:function(){var e=cc.instantiate(this.itemPrefab),t=e.getComponent("dragItem");t.targetItem=this.targetItem,this.content.addChild(e),t.init(),this.node.removeFromParent()}}),cc._RFpop()},{}],showMessage:[function(e,t,n){"use strict";cc._RFpush(t,"ac84bGgbPRDpKaKS/Hd6l3W","showMessage"),cc.Class({"extends":cc.Component,properties:{message:"",_isPlay:!1},onLoad:function(){this.node.parent.on("touchend",this.showMessage,this)},showMessage:function(){this._isPlay||(this._isPlay=!0,this.getComponent(cc.Label).string=this.message,this.node.runAction(cc.sequence(cc.fadeOut(1),cc.callFunc(this.finish,this))))},finish:function(){this.getComponent(cc.Label).string="",this.node.opacity=255,this._isPlay=!1}}),cc._RFpop()},{}],taiji:[function(e,t,n){"use strict";cc._RFpush(t,"8cd41BwTy1CXYeBOxa+Ff/f","taiji"),cc.Class({"extends":cc.Component,properties:{_index:0,index:{get:function(){return this._index},set:function(e){this._index=e,5==this._index&&this.trigger()}}},onLoad:function(){},trigger:function(){this.node.once("touchend",this.out,this)},out:function(){cc.director.loadScene("end")}}),cc._RFpop()},{}],toOtherView:[function(e,t,n){"use strict";cc._RFpush(t,"786664+irFOJrB2lA54pu3T","toOtherView"),cc.Class({"extends":cc.Component,properties:{otherView:cc.Node},onLoad:function(){this.node.on("touchend",this.toOtherView,this)},toOtherView:function(){this.node.parent.setScale(cc.v2(0,0)),this.otherView.setScale(cc.v2(1,1))}}),cc._RFpop()},{}],waterGenerator:[function(e,t,n){"use strict";cc._RFpush(t,"8ad69RcLRNDYq354LfkROGT","waterGenerator"),cc.Class({"extends":cc.Component,properties:{canvas:cc.Node,waterAngel:cc.Prefab},onLoad:function(){this.node.once("touchend",this.generateAngel,this)},generateAngel:function(){var e=cc.instantiate(this.waterAngel);this.canvas.addChild(e,100)}}),cc._RFpop()},{}],woodGenerator:[function(e,t,n){"use strict";cc._RFpush(t,"a5a50Zv955Pn6MrOTvXUED9","woodGenerator"),cc.Class({"extends":cc.Component,properties:{canvas:cc.Node,woodAngel:cc.Prefab},onLoad:function(){this.node.on("touchend",this.generateAngel,this)},generateAngel:function(){var e=cc.instantiate(this.woodAngel);this.canvas.addChild(e),this.node.removeFromParent()}}),cc._RFpop()},{}],woodSchedule:[function(e,t,n){"use strict";cc._RFpush(t,"e9295p6YNhE8KkmbLgzhTcR","woodSchedule"),cc.Class({"extends":cc.Component,properties:{childLeave:cc.SpriteFrame,matureLeave:cc.SpriteFrame,matureLeaveArea:cc.Node},onLoad:function(){this.node.once("touchend",this.grow,this)},grow:function(){this.scheduleOnce(this.toChildLeave,5)},toChildLeave:function(){cc.log("child"),this.getComponent(cc.Sprite).spriteFrame=this.childLeave,this.scheduleOnce(this.toMatureLeave,5)},toMatureLeave:function(){cc.log("mature"),this.getComponent(cc.Sprite).spriteFrame=this.matureLeave,this.matureLeaveArea.active=!0}}),cc._RFpop()},{}]},{},["goldGenerator","increment","pick","fireGenerator","angelonLoadMessage","toOtherView","waterGenerator","angelFramesLoop","taiji","dragItem","woodGenerator","initScale","showMessage","woodSchedule"]);